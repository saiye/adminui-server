{"version":3,"sources":["webpack:///./src/views/room/list.vue?b5f9","webpack:///src/views/room/list.vue","webpack:///./src/views/room/list.vue?2870","webpack:///./src/views/room/list.vue","webpack:///./src/api/billing.js","webpack:///./src/api/room.js","webpack:///./src/api/board.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","handleClick","model","value","callback","$$v","activeName","expression","attrs","staticClass","form_list","$set","loadRoomListData","_v","staticStyle","handleAddRoom","directives","name","rawName","tableRoomData","scopedSlots","_u","key","fn","scope","_s","row","billing","price","price_type","time_unit","time_type","$event","handleEditRoom","paginate","total","pageSizes","pageSize","layout","pageIndex","handleChangePage","handleChangeSize","_e","title","closeModal","dialogVisible","ref","dialog_form","rules","storeListData","loadBillingData","_n","_l","item","dup_id","board_name","billing_id","billing_name","deviceItem","addDeviceRules","addDeviceItem","devices","indexMethod","removeDeviceItem","slot","dialogCance","dialogConfirm","staticRenderFns","component","billingConfig","request","url","method","addBilling","data","billingList","companyAndRoomList","addRoom","editRoom","roomList","boardList","editBoard","addBoard","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","length","actualStart","argumentsLength","arguments","TypeError","$map","map","callbackfn","undefined"],"mappings":"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","file":"js/chunk-bcbb39e2.6ccacf0d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"房间列表\",\"inline\":true,\"name\":\"list\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.form_list}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入商户名称\"},model:{value:(_vm.form_list.business_name),callback:function ($$v) {_vm.$set(_vm.form_list, \"business_name\", $$v)},expression:\"form_list.business_name\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入房间名称\"},model:{value:(_vm.form_list.room_name),callback:function ($$v) {_vm.$set(_vm.form_list, \"room_name\", $$v)},expression:\"form_list.room_name\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"round\":\"\"},on:{\"click\":_vm.loadRoomListData}},[_vm._v(\"查询\")])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"20px\",\"margin-bottom\":\"10px\"},attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.handleAddRoom}},[_vm._v(\"新增房间 \")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableRoomData,\"border\":\"\",\"stripe\":\"\",\"highlight-current-row\":\"\",\"header-cell-class-name\":\"table-header-class\"}},[_c('el-table-column',{attrs:{\"prop\":\"room_id\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"room_name\",\"label\":\"房间名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"company.company_name\",\"label\":\"所属商户\"}}),_c('el-table-column',{attrs:{\"prop\":\"store.store_name\",\"label\":\"所在店面\"}}),_c('el-table-column',{attrs:{\"prop\":\"seats_num\",\"label\":\"配置人数\"}}),_c('el-table-column',{attrs:{\"label\":\"收费模式\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.billing.price)+_vm._s(scope.row.billing.price_type)+\",\"+_vm._s(scope.row.billing.time_unit)+\"/\"+_vm._s(scope.row.billing.time_type))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"created_at\",\"label\":\"创建日期\"}}),_c('el-table-column',{attrs:{\"prop\":\"is_use\",\"label\":\"使用状态\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.handleEditRoom(scope.row)}}},[_vm._v(\"编辑房间\")])]}}])})],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"pagination\"},[(_vm.paginate.total > 0)?_c('el-pagination',{attrs:{\"background\":\"\",\"page-sizes\":_vm.paginate.pageSizes,\"page-size\":_vm.paginate.pageSize,\"layout\":_vm.paginate.layout,\"total\":_vm.paginate.total,\"current-page\":_vm.paginate.pageIndex},on:{\"current-change\":_vm.handleChangePage,\"size-change\":_vm.handleChangeSize}}):_vm._e()],1)])],1),_c('el-dialog',{attrs:{\"title\":_vm.title,\"close-on-click-modal\":_vm.closeModal,\"visible\":_vm.dialogVisible,\"width\":\"600px;\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"dialog_form\",attrs:{\"model\":_vm.dialog_form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属门店\",\"prop\":\"storeArr\"}},[_c('el-cascader',{attrs:{\"placeholder\":\"选择所在区域\",\"props\":_vm.storeListData,\"clearable\":\"\"},on:{\"change\":_vm.loadBillingData},model:{value:(_vm.dialog_form.storeArr),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"storeArr\", $$v)},expression:\"dialog_form.storeArr\"}})],1),_c('el-form-item',{attrs:{\"label\":\"房间名称\",\"prop\":\"room_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入房间名字最长30位\"},model:{value:(_vm.dialog_form.room_name),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"room_name\", $$v)},expression:\"dialog_form.room_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"座位数量\",\"prop\":\"seats_num\"}},[_c('el-input',{attrs:{\"placeholder\":\"请选择设置座位数量\"},model:{value:(_vm.dialog_form.seats_num),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"seats_num\", _vm._n($$v))},expression:\"dialog_form.seats_num\"}})],1),_c('el-form-item',{attrs:{\"label\":\"板子选择\",\"prop\":\"dup_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择板子\"},model:{value:(_vm.dialog_form.dup_id),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"dup_id\", $$v)},expression:\"dialog_form.dup_id\"}},_vm._l((_vm.boardListData),function(item){return _c('el-option',{key:item.dup_id,attrs:{\"label\":item.board_name,\"value\":item.dup_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"计费模式\",\"prop\":\"billing_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择计费模式\"},model:{value:(_vm.dialog_form.billing_id),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"billing_id\", $$v)},expression:\"dialog_form.billing_id\"}},_vm._l((_vm.billingData),function(item){return _c('el-option',{key:item.billing_id,attrs:{\"label\":item.billing_name,\"value\":item.billing_id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"房间描述\",\"prop\":\"describe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入房间描述最长150字\"},model:{value:(_vm.dialog_form.describe),callback:function ($$v) {_vm.$set(_vm.dialog_form, \"describe\", $$v)},expression:\"dialog_form.describe\"}})],1),_c('el-form',{ref:\"device_form\",staticStyle:{\"position\":\"relative\"},attrs:{\"model\":_vm.deviceItem,\"rules\":_vm.addDeviceRules,\"label-width\":\"80px\"}},[_c('el-form-item',{staticStyle:{\"width\":\"20%\",\"float\":\"left\",\"position\":\"relative\"},attrs:{\"prop\":\"seat_num\",\"label\":\"座位号\"}},[_c('el-input',{attrs:{\"placeholder\":\"座位号\"},model:{value:(_vm.deviceItem.seat_num),callback:function ($$v) {_vm.$set(_vm.deviceItem, \"seat_num\", _vm._n($$v))},expression:\"deviceItem.seat_num\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"30%\",\"float\":\"left\",\"position\":\"relative\"},attrs:{\"prop\":\"device_name\",\"label\":\"设备名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"设备名称\"},model:{value:(_vm.deviceItem.device_name),callback:function ($$v) {_vm.$set(_vm.deviceItem, \"device_name\", _vm._n($$v))},expression:\"deviceItem.device_name\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"30%\",\"float\":\"left\",\"position\":\"relative\"},attrs:{\"prop\":\"device_id\",\"label\":\"设备id\"}},[_c('el-input',{attrs:{\"placeholder\":\"设备id\"},model:{value:(_vm.deviceItem.device_id),callback:function ($$v) {_vm.$set(_vm.deviceItem, \"device_id\", $$v)},expression:\"deviceItem.device_id\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"20%\",\"float\":\"left\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.addDeviceItem('device_form')}}},[_vm._v(\"添加设备\")])],1)],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"100px\"},attrs:{\"label\":\"游戏设备\",\"prop\":\"devices\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dialog_form.devices,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"seat_num\",\"label\":\"座位号\"}}),_c('el-table-column',{attrs:{\"prop\":\"device_id\",\"label\":\"设备id\"}}),_c('el-table-column',{attrs:{\"prop\":\"device_name\",\"label\":\"设备名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){return _vm.removeDeviceItem(scope.row)}}},[_vm._v(\"删除设备\")])],1)]}}])})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogCance}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dialogConfirm('dialog_form')}}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n        <el-tab-pane label=\"房间列表\" :inline=\"true\" name=\"list\">\r\n            <el-form :inline=\"true\" :model=\"form_list\" class=\"demo-form-inline\">\r\n                <el-form-item>\r\n                    <el-input v-model=\"form_list.business_name\" placeholder=\"请输入商户名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input v-model=\"form_list.room_name\" placeholder=\"请输入房间名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"loadRoomListData\" round>查询</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-button\r\n                            size=\"mini\"\r\n                            style=\"float: right;margin-right: 20px;margin-bottom: 10px;\"\r\n                            @click=\"handleAddRoom\"\r\n                            round\r\n                    >新增房间\r\n                    </el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <el-table\r\n                    v-loading=\"loading\"\r\n                    :data=\"tableRoomData\"\r\n                    border\r\n                    stripe\r\n                    highlight-current-row\r\n                    header-cell-class-name=\"table-header-class\"\r\n                    style=\"width:100%\">\r\n                <el-table-column prop=\"room_id\" label=\"序号\"></el-table-column>\r\n                <el-table-column prop=\"room_name\" label=\"房间名称\"></el-table-column>\r\n                <el-table-column prop=\"company.company_name\" label=\"所属商户\"></el-table-column>\r\n                <el-table-column prop=\"store.store_name\" label=\"所在店面\"></el-table-column>\r\n                <el-table-column prop=\"seats_num\" label=\"配置人数\"></el-table-column>\r\n                <el-table-column label=\"收费模式\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{ scope.row.billing.price }}{{ scope.row.billing.price_type }},{{ scope.row.billing.time_unit}}/{{ scope.row.billing.time_type}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"created_at\" label=\"创建日期\"></el-table-column>\r\n                <el-table-column prop=\"is_use\" label=\"使用状态\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" @click=\"handleEditRoom(scope.row)\" round>编辑房间</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <div class=\"pagination\">\r\n                        <el-pagination background\r\n                                       v-if='paginate.total > 0'\r\n                                       :page-sizes=\"paginate.pageSizes\"\r\n                                       :page-size=\"paginate.pageSize\"\r\n                                       :layout=\"paginate.layout\"\r\n                                       :total=\"paginate.total\"\r\n                                       :current-page='paginate.pageIndex'\r\n                                       @current-change='handleChangePage'\r\n                                       @size-change='handleChangeSize'>\r\n                        </el-pagination>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <!--dialog start-->\r\n            <el-dialog :title=title :close-on-click-modal=\"closeModal\" :visible.sync=\"dialogVisible\" width=\"600px;\">\r\n\r\n                    <el-form :model=\"dialog_form\" ref=\"dialog_form\" :rules=\"rules\" label-width=\"100px\">\r\n                        <el-form-item label=\"所属门店\" prop=\"storeArr\">\r\n                            <el-cascader placeholder=\"选择所在区域\" v-on:change=\"loadBillingData\" v-model=dialog_form.storeArr\r\n                                         :props=\"storeListData\" clearable></el-cascader>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"房间名称\" prop=\"room_name\">\r\n                            <el-input v-model=\"dialog_form.room_name\" placeholder=\"请输入房间名字最长30位\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"座位数量\" prop=\"seats_num\">\r\n                            <el-input v-model.number=\"dialog_form.seats_num\" placeholder=\"请选择设置座位数量\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"板子选择\" prop=\"dup_id\">\r\n                            <el-select v-model=\"dialog_form.dup_id\" placeholder=\"请选择板子\">\r\n                                <el-option\r\n                                        v-for=\"item in boardListData\"\r\n                                        :key=\"item.dup_id\"\r\n                                        :label=\"item.board_name\"\r\n                                        :value=\"item.dup_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n\r\n\r\n                        <el-form-item label=\"计费模式\" prop=\"billing_id\">\r\n                            <el-select v-model=\"dialog_form.billing_id\" placeholder=\"请选择计费模式\">\r\n                                <el-option\r\n                                        v-for=\"item in billingData\"\r\n                                        :key=\"item.billing_id\"\r\n                                        :label=\"item.billing_name\"\r\n                                        :value=\"item.billing_id\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"房间描述\" prop=\"describe\">\r\n                            <el-input v-model=\"dialog_form.describe\" type=\"textarea\" :rows=\"3\" placeholder=\"请输入房间描述最长150字\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form :model=\"deviceItem\" ref=\"device_form\" :rules=\"addDeviceRules\" label-width=\"80px\" style=\"position: relative;\">\r\n                            <el-form-item prop=\"seat_num\" style=\"width:20%;float:left;position: relative;\" label=\"座位号\">\r\n                                <el-input v-model.number=\"deviceItem.seat_num\"  placeholder=\"座位号\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"device_name\" style=\"width:30%;float:left;position: relative;\" label=\"设备名称\">\r\n                                <el-input v-model.number=\"deviceItem.device_name\"  placeholder=\"设备名称\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"device_id\" style=\"width:30%;float:left;position: relative;\"  label=\"设备id\">\r\n                                <el-input v-model=\"deviceItem.device_id\"  placeholder=\"设备id\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item style=\"width:20%;float:left;\">\r\n                                <el-button size=\"mini\" @click=\"addDeviceItem('device_form')\" round>添加设备</el-button>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <el-form-item label=\"游戏设备\" style=\"margin-top:100px; \" prop=\"devices\">\r\n                            <el-table :data=\"dialog_form.devices\" border style=\"width: 100%\">\r\n                                <el-table-column  type=\"index\" :index=\"indexMethod\" label=\"序号\"></el-table-column>\r\n                                <el-table-column prop=\"seat_num\" label=\"座位号\">\r\n                                </el-table-column>\r\n                                <el-table-column  prop=\"device_id\" label=\"设备id\">\r\n                                </el-table-column>\r\n                                <el-table-column  prop=\"device_name\" label=\"设备名称\">\r\n                                </el-table-column>\r\n                                <el-table-column label=\"操作\">\r\n                                    <template slot-scope=\"scope\">\r\n                                       <span> <el-button size=\"mini\" type=\"danger\" @click=\"removeDeviceItem(scope.row)\" round>删除设备</el-button></span>\r\n                                    </template>\r\n                                </el-table-column>\r\n                            </el-table>\r\n                        </el-form-item>\r\n                    </el-form>\r\n\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogCance\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"dialogConfirm('dialog_form')\">确 定</el-button>\r\n        </span>\r\n            </el-dialog>\r\n            <!--dialog end-->\r\n        </el-tab-pane>\r\n    </el-tabs>\r\n</template>\r\n<script>\r\n    import {companyAndRoomList, roomList, addRoom, editRoom} from \"@/api/room\";\r\n    import {billingList} from \"@/api/billing\";\r\n    import {boardList} from \"@/api/board\";\r\n    import {Message} from 'element-ui'\r\n\r\n    export default {\r\n        data() {\r\n            let checkDevices = (rule, value, callback) => {\r\n                let l=value.length;\r\n                if (l<1) {\r\n                    return callback(new Error('设备不能为空'));\r\n                }\r\n                let max=this.dialog_form.seats_num+1;\r\n                if(max<l){\r\n                    return callback(new Error('设备不能超过(座位数+1)，即'+max+'个,请删除多余的设备!'));\r\n                }\r\n                if(l>17){\r\n                    return callback(new Error('设备不能超过17个'));\r\n                }\r\n                if(max>l){\r\n                    return callback(new Error('设备数还没满'+max+'个,座位数量n，必须添加n+1设备！'));\r\n                }\r\n                let tmp=value.filter(v=>v.seat_num>this.dialog_form.seats_num);\r\n                if(tmp.length>0){\r\n                    return callback(new Error('已添加的设备列表，座位号只能小于等于座位数！这种情况一般是编辑设备，删除了低位座位号设备，刷新页面重新编辑即可！'));\r\n                }\r\n                let tmpJudge=value.filter(v=>v.seat_num==0);\r\n                if(tmpJudge.length!==1){\r\n                    return callback(new Error('请添加法官设备，0号位'));\r\n                }\r\n                callback();\r\n            };\r\n            let checkSeatsNum=(rule, value, callback) => {\r\n                if(isNaN(value)){\r\n                    return callback(new Error('座位数量,必须是一个数字'));\r\n                }\r\n                if(value<1||value>16){\r\n                    return callback(new Error('座位数量,取值范围1-16'));\r\n                }\r\n                callback();\r\n            };\r\n            let checkSeatNum = (rule, value, callback) => {\r\n                if(isNaN(value)){\r\n                    return callback(new Error('座位号必须是一个数字'));\r\n                }\r\n                let n=this.dialog_form.seats_num||16;\r\n                if(value<0||value>n){\r\n                    return callback(new Error('座位号取值范围0-'+n));\r\n                }\r\n                let setArr=this.dialog_form.devices.map(v=>v.seat_num);\r\n                //座位号是否重复？\r\n                if(setArr.indexOf(value)>-1){\r\n                    return callback(new Error('座位号不能重复!'));\r\n                }\r\n                callback();\r\n            };\r\n            let checkDeviceId = (rule, value, callback) => {\r\n                if(isNaN(value)){\r\n                    return callback(new Error('设备id必须一个数字，即短id'));\r\n                }\r\n                if(value<1){\r\n                    return callback(new Error('设备id只能是大于0的整数!'));\r\n                }\r\n                let devArr=this.dialog_form.devices.map(v=>v.device_id);\r\n                //座位号是否重复？\r\n                if(devArr.indexOf(value)>-1){\r\n                    return callback(new Error('设备id不能重复!'));\r\n                }\r\n                //数据库是否存在该设备id?在后端检查吧，重复就过滤\r\n                callback();\r\n            };\r\n            return {\r\n                activeName:'list',\r\n                tableRoomData:[],\r\n                boardListData:[],\r\n                closeModal:false,\r\n                paginate: {\r\n                    total: 0,        // 总数\r\n                    pageIndex: 1,  // 当前位于哪页\r\n                    pageSize: 15,   // 1页显示多少条\r\n                    pageSizes: [5, 10, 15, 20],  //每页显示多少条\r\n                    layout: \"total, sizes, prev, pager, next, jumper\"   // 翻页属性\r\n                },\r\n                loading: false,\r\n                form_list: {\r\n                    room_name: '',\r\n                    business_name: '',\r\n                    limit: 10,\r\n                    page: 1,\r\n                },\r\n                dialogVisible: false,\r\n                billingData: [],\r\n                storeListData: {\r\n                    lazy: true,\r\n                    lazyLoad(node, resolve) {\r\n                        const {level} = node;\r\n                        let param = {\r\n                            'parent_id': node.value || -1,\r\n                            'level': node.level || 0,\r\n                        };\r\n                        companyAndRoomList(param).then(response => {\r\n                            resolve(response.data.data);\r\n                        }).catch(function (error) {\r\n                            console.log(error);\r\n                        }).then(function () {\r\n\r\n                        });\r\n                    }\r\n                },\r\n                deviceItem:{\r\n                    seat_num:0,\r\n                    device_id:'',\r\n                    device_name:'设备0',\r\n                },\r\n                dialog_form: {\r\n                    room_id:\"\",\r\n                    dup_id: 1,\r\n                    room_name: \"\",\r\n                    seats_num: 16,\r\n                    describe: '',\r\n                    devices: [],\r\n                    billing_id: '',\r\n                    storeArr: [0,0],\r\n                    delDevicesIds:[],\r\n                },\r\n                rules: {\r\n                    room_name: [\r\n                        {required: true, message: '请输入房间名称最长30位', trigger: 'blur'},\r\n                        {min: 3, max: 30, message: '长度在 3 到 30个字符', trigger: 'blur'}\r\n                    ],\r\n                    seats_num: [\r\n                        { validator:checkSeatsNum, trigger: 'blur'}\r\n                    ],\r\n                    dup_id: [\r\n                        {required: true, message: '请填选择板子', trigger: 'change'}\r\n                    ],\r\n                    storeArr: [\r\n                        {required: true, message: '请选择门店'},\r\n                    ],\r\n                    describe: [\r\n                        {required: true, message: '请填输入房间描述', trigger: 'blur'}\r\n                    ],\r\n                    billing_id: [\r\n                        {required: true, message: '请填选择计费模式', trigger: 'change'}\r\n                    ],\r\n                    devices:[\r\n                        { validator:checkDevices, trigger: 'blur'}\r\n                    ],\r\n                },\r\n                addDeviceRules:{\r\n                    seat_num: [\r\n                        { validator:checkSeatNum,trigger:'blur'}\r\n                    ],\r\n                    device_id: [\r\n                        { validator:checkDeviceId,trigger:'blur'}\r\n                    ],\r\n                    device_name: [\r\n                        {required: true, message: '请填输入设备名称', trigger: 'blur'}\r\n                    ],\r\n                }\r\n            };\r\n        },\r\n        mounted() {\r\n            this.loadRoomListData();\r\n            this.loadBoardList();\r\n        },\r\n        computed:{\r\n            title:function(){\r\n                return this.dialog_form.room_id?'编辑房间':'新增房间';\r\n            },\r\n        },\r\n        methods: {\r\n            handleClick(tab, event) {\r\n                console.log(tab.name);\r\n            },\r\n            loadRoomListData() {\r\n                roomList(this.form_list).then(response => {\r\n                    this.tableRoomData = response.data.data.data\r\n                    this.loading = false;\r\n                    this.paginate.total = response.data.data.total;\r\n                }).catch(function (error) {\r\n                    // handle error\r\n                    console.log(error);\r\n                }).then(function () {\r\n\r\n                });\r\n\r\n                this.tableRoomData = [];\r\n            },\r\n            handleChangePage(page) {\r\n                this.paginate.pageIndex = page;\r\n                this.form_list.page = page;\r\n                this.loadRoomListData();\r\n            },\r\n            handleChangeSize(pageSize) {\r\n                this.paginate.pageSize = pageSize;\r\n                this.form_list.limit = pageSize;\r\n                this.loadRoomListData();\r\n            },\r\n            dialogConfirm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        if (this.dialog_form.room_id) {\r\n                            editRoom(this.dialog_form)\r\n                                .then(response => {\r\n                                    this.dialogVisible = false;\r\n                                    //回调父组件，刷新页面\r\n                                    this.loadRoomListData();\r\n                                }).catch(function (error) {\r\n                            }).then(function () {\r\n                            });\r\n                        } else {\r\n                            addRoom(this.dialog_form)\r\n                                .then(response => {\r\n                                    this.dialogVisible = false;\r\n                                    //回调父组件，刷新页面\r\n                                    this.loadRoomListData();\r\n                                }).catch(function (error) {\r\n                            }).then(function () {\r\n                            });\r\n                        }\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            dialogCance() {\r\n                this.dialogVisible = false;\r\n            },\r\n            loadBillingData(value) {\r\n                let company_id = value[0];\r\n                let store_id = value[1];\r\n                this.billingData = [];\r\n                if (company_id && store_id) {\r\n                    billingList({'company_id': company_id, 'store_id': store_id}).then(response => {\r\n                        this.billingData = response.data.data.data;\r\n                    }).catch(function (error) {\r\n                    }).then(function () {\r\n                    });\r\n                } else {\r\n                    this.dialog_form.billing_id = '';\r\n                }\r\n            },\r\n            handleEditRoom(row) {\r\n                this.dialogVisible = true\r\n                this.dialog_form.room_id = row.room_id;\r\n                this.dialog_form.room_name = row.room_name;\r\n                this.dialog_form.seats_num = row.seats_num;\r\n                this.dialog_form.describe = row.describe;\r\n                this.dialog_form.devices = row.devices;\r\n                this.dialog_form.billing_id = row.billing_id;\r\n                this.dialog_form.dup_id = row.dup_id;\r\n                this.dialog_form.storeArr = [row.company_id,row.store_id];\r\n                this.loadBillingData([row.company_id,row.store_id]);\r\n            },\r\n            handleAddRoom(){\r\n                this.dialog_form.room_id =0;\r\n                this.dialogVisible = true;\r\n                this.dialog_form.storeArr=[];\r\n                this.dialog_form.devices=[];\r\n                this.dialog_form.billing_id='';\r\n                this.dialog_form.room_name='';\r\n                this.dialog_form.describe='';\r\n                this.billingData=[];\r\n            },\r\n            removeDeviceItem(row){\r\n                let index=this.dialog_form.devices.indexOf(row);\r\n                this.dialog_form.devices.splice(index,1);\r\n            },\r\n            addDeviceItem(formName){\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        let dev_num=this.dialog_form.devices.length;\r\n                        let max=this.dialog_form.seats_num+1;\r\n                        if(dev_num>=max){\r\n                            this.showMessage('最多添加'+max+'个设备,0号位是法官，其他1-'+this.dialog_form.seats_num+'号');\r\n                            return false;\r\n                        }\r\n                        if(max>dev_num){\r\n                            this.dialog_form.devices.push({\r\n                                seat_num:this.deviceItem.seat_num,\r\n                                device_id:this.deviceItem.device_id,\r\n                                device_name:this.deviceItem.device_name,\r\n                            });\r\n                            this.dialog_form.devices.sort(function(a,b){\r\n                                return a.seat_num - b.seat_num\r\n                            })\r\n\r\n                            this.deviceItem.seat_num+=1;\r\n                            this.deviceItem.device_name='设备'+this.deviceItem.seat_num;\r\n                        }else{\r\n                            this.showMessage('座位数已满'+max);\r\n                        }\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            indexMethod(index) {\r\n                return index+1;\r\n            },\r\n            showMessage(message){\r\n                Message({\r\n                    message: message,\r\n                    type:'error',\r\n                    duration: 5 * 1000\r\n                })\r\n            },\r\n            loadBoardList(){\r\n                boardList({limit:50}).then(response => {\r\n                    this.boardListData= response.data.data.data;\r\n                }).catch(function (error) {\r\n                }).then(function () {\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1ef4a5c8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/tools/request'\r\nexport function billingConfig() {\r\n    return request({\r\n        url: '/room/billing/billingConfig',\r\n        method: 'post',\r\n    })\r\n}\r\n\r\nexport function addBilling(data) {\r\n    return request({\r\n        url: '/room/billing/addBilling',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function billingList(data) {\r\n    return request({\r\n        url: '/room/billing/billingList',\r\n        method: 'post',\r\n        data\r\n    })\r\n}","import request from '@/tools/request'\r\n\r\nexport function companyAndRoomList(data) {\r\n    return request({\r\n        url: '/room/index/companyAndRoomList',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function addRoom(data) {\r\n    return request({\r\n        url: '/room/index/addRoom',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\nexport function editRoom(data) {\r\n    return request({\r\n        url: '/room/index/editRoom',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function roomList(data) {\r\n    return request({\r\n        url: '/room/index/roomList',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n\r\n","import request from '@/tools/request'\r\n\r\nexport function boardList(data) {\r\n    return request({\r\n        url: 'game/board/boardList',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function editBoard(data) {\r\n    return request({\r\n        url: 'game/board/editBoard',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function addBoard(data) {\r\n    return request({\r\n        url: 'game/board/addBoard',\r\n        method: 'post',\r\n        data\r\n    })\r\n}","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}