(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-645adb2a"],{"3b65":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"会员列表",name:"list"}},[t("el-form",{attrs:{model:e.form_list}},[t("el-form-item",[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-input",{attrs:{placeholder:"请输入会员的账号，昵称，真实姓名，邮箱地址进行搜索"},model:{value:e.form_list.search_name,callback:function(a){e.$set(e.form_list,"search_name",a)},expression:"form_list.search_name"}})],1),t("el-col",{attrs:{span:2}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.onSearchList}},[e._v("查询")])],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-button",{staticStyle:{float:"right","margin-right":"20px","margin-bottom":"10px"},attrs:{size:"mini",round:""},on:{click:e.openAddUserDialog}},[e._v("新增会员 ")])],1)],1),t("add_user",{attrs:{visible:e.visible,user:e.user},on:{handelConfirm:e.handleDialogConfirm,handelCance:e.handleDialogCance}}),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.ListLoading,expression:"ListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableListData,border:"",stripe:"","highlight-current-row":"","header-cell-class-name":"table-header-class","row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{prop:"id",label:"序号"}}),t("el-table-column",{attrs:{prop:"account",label:"会员账号"}}),t("el-table-column",{attrs:{label:"是否为法官"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(1==a.row.judge?"是":"否"))])]}}])}),t("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t("el-table-column",{attrs:{prop:"real_name",label:"真实姓名"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱地址"}}),t("el-table-column",{attrs:{prop:"created_at",label:"注册日期"}}),t("el-table-column",{attrs:{prop:"lock",label:"账号状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(1==a.row.lock?"正常":"锁定"))])]}}])}),t("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[t("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")])],1),t("span",[t("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(t){return e.handleLock(2,a.row)}}},[e._v("禁封")])],1),t("span",[t("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(t){return e.handleLock(1,a.row)}}},[e._v("解封")])],1)]}}])})],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"pagination"},[e.Paginate.total>0?t("el-pagination",{attrs:{background:"","page-sizes":e.Paginate.pageSizes,"page-size":e.Paginate.pageSize,layout:e.Paginate.layout,total:e.Paginate.total,"current-page":e.Paginate.pageIndex},on:{"current-change":e.handleUserChangePage,"size-change":e.handleUserChangeSize}}):e._e()],1)])],1)],1)],1)},o=[],i=(t("b0c0"),t("f46b"));function r(e){return Object(i["a"])({url:"/game/index/addUser",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/game/index/editUser",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/game/index/lockUser",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/game/index/userList",method:"post",data:e})}var d=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-dialog",{attrs:{title:e.title,"close-on-click-modal":e.closeModal,visible:e.visibleDialog,width:"700px"},on:{"update:visible":function(a){e.visibleDialog=a}}},[t("div",{staticClass:"add-dialog-box"},[t("el-form",{ref:"dialog_form",attrs:{model:e.dialog_form,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"account",label:"会员账号"}},[t("el-input",{attrs:{placeholder:"请选择设置会员账号最长20位"},model:{value:e.dialog_form.account,callback:function(a){e.$set(e.dialog_form,"account",a)},expression:"dialog_form.account"}})],1),t("el-form-item",{attrs:{prop:"password",label:"密码"}},[t("el-input",{attrs:{placeholder:"请选择设置会员密码","show-password":""},model:{value:e.dialog_form.password,callback:function(a){e.$set(e.dialog_form,"password",a)},expression:"dialog_form.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"affirm_password"}},[t("el-input",{attrs:{placeholder:"请选择确认会员密码","show-password":""},model:{value:e.dialog_form.affirm_password,callback:function(a){e.$set(e.dialog_form,"affirm_password",a)},expression:"dialog_form.affirm_password"}})],1),t("el-form-item",{attrs:{label:"真实姓名",prop:"real_name"}},[t("el-input",{attrs:{placeholder:"请输入会员真实姓名"},model:{value:e.dialog_form.real_name,callback:function(a){e.$set(e.dialog_form,"real_name",a)},expression:"dialog_form.real_name"}},[t("template",{attrs:{prop:"sex"},slot:"append"},[t("el-radio",{attrs:{label:e.sexArr.m},model:{value:e.dialog_form.sex,callback:function(a){e.$set(e.dialog_form,"sex",a)},expression:"dialog_form.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:e.sexArr.w},model:{value:e.dialog_form.sex,callback:function(a){e.$set(e.dialog_form,"sex",a)},expression:"dialog_form.sex"}},[e._v("女")])],1)],2)],1),t("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[t("el-input",{attrs:{placeholder:"会员昵称最长10字"},model:{value:e.dialog_form.nickname,callback:function(a){e.$set(e.dialog_form,"nickname",a)},expression:"dialog_form.nickname"}})],1),t("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[t("el-input",{attrs:{placeholder:"会员邮箱地址最长30位"},model:{value:e.dialog_form.email,callback:function(a){e.$set(e.dialog_form,"email",a)},expression:"dialog_form.email"}})],1),t("el-form-item",{attrs:{label:"是否为法官",prop:"judge"}},[t("el-radio",{attrs:{label:e.judgeArr.y},model:{value:e.dialog_form.judge,callback:function(a){e.$set(e.dialog_form,"judge",a)},expression:"dialog_form.judge"}},[e._v("是")]),t("el-radio",{attrs:{label:e.judgeArr.n},model:{value:e.dialog_form.judge,callback:function(a){e.$set(e.dialog_form,"judge",a)},expression:"dialog_form.judge"}},[e._v("否")])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.dialogCance}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.dialogConfirm("dialog_form")}}},[e._v("确 定")])],1)])],1)},u=[],m={name:"add_user",props:["user","visible"],watch:{user:function(e){e&&(this.dialog_form=e)},visible:function(e){this.visibleDialog=e}},computed:{title:function(){var e=this.dialog_form.id?"修改会员":"新增会员";return e}},data:function(){var e=this,a=function(a,t,l){e.dialog_form.id?l():""===t?l(new Error("请再次输入密码")):t!==e.dialog_form.password?l(new Error("两次输入密码不一致!")):l()};return{closeModal:!1,loading:!1,UserListData:[],visibleDialog:!1,sexArr:{m:0,w:1},judgeArr:{y:1,n:2},dialog_form:{account:"",password:"",affirm_password:"",real_name:"",nickname:"",email:"",sex:0,judge:2,id:""},rules:{account:[{required:!0,message:"请输入会员账号最长20位",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20个字符",trigger:"blur"}],password:[{validator:a,trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20个字符",trigger:"blur"}],affirm_password:[{validator:a,trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20个字符",trigger:"blur"}],real_name:[{required:!0,message:"请填写真实姓名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20个字符",trigger:"blur"}],nickname:[{required:!0,message:"用户昵称不能为空",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20个字符",trigger:"blur"}],email:[{required:!0,message:"email不能为空",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30个字符",trigger:"blur"}],sex:[{required:!0,message:"性别未选择",trigger:"blur"}],judge:[{required:!0,message:"玩家类型必须选择",trigger:"blur"}]}}},methods:{dialogConfirm:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return!1;a.dialog_form.id?n(a.dialog_form).then((function(e){a.$emit("handelConfirm")})).catch((function(e){})).then((function(){})):r(a.dialog_form).then((function(e){a.$emit("handelConfirm")})).catch((function(e){})).then((function(){}))}))},dialogCance:function(){this.$emit("handelCance")}}},g=m,f=t("2877"),p=Object(f["a"])(g,d,u,!1,null,null,null),b=p.exports,h={components:{add_user:b},data:function(){return{activeName:"list",tableListData:[],ListLoading:!1,visible:!1,user:{id:"",account:"",password:"",affirm_password:"",real_name:"",nickname:"",email:"",sex:0,judge:2},Paginate:{total:0,pageIndex:1,pageSize:15,pageSizes:[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper"},form_list:{search_name:"",page:1,limit:15}}},mounted:function(){this.loadUserListData()},methods:{tableRowClassName:function(e){var a=e.row;e.rowIndex;return 2==a.lock?"warning-row":"success-row"},handleLock:function(e,a){var t=this;s({user_id:a.id,lock:e}).then((function(e){t.loadUserListData()})).catch((function(e){})).then((function(){}))},openAddUserDialog:function(){this.visible=!0,this.user.id=""},handleEdit:function(e){console.log("edit--props"),this.visible=!0,this.user=e},handleDialogConfirm:function(){this.visible=!1},handleDialogCance:function(){this.visible=!1},handleClick:function(e,a){console.log(e.name)},loadUserListData:function(){var e=this;c(this.form_list).then((function(a){e.tableListData=a.data.data.data,e.Paginate.total=a.data.data.total})).catch((function(e){})).then((function(){}))},handleUserChangePage:function(e){this.Paginate.pageIndex=e,this.form_list.page=e,this.loadUserListData()},handleUserChangeSize:function(e){this.Paginate.pageSize=e,this.form_list.limit=e,this.loadUserListData()},onSearchList:function(){this.loadUserListData()}}},_=h,v=(t("f84b"),Object(f["a"])(_,l,o,!1,null,null,null));a["default"]=v.exports},"5f54":function(e,a,t){},f84b:function(e,a,t){"use strict";var l=t("5f54"),o=t.n(l);o.a}}]);
//# sourceMappingURL=chunk-645adb2a.f365b754.js.map