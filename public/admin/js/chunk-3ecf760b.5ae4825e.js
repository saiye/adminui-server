(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ecf760b"],{7901:function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"角色名称"}},[n("el-input",{model:{value:e.item.role_name,callback:function(t){e.$set(e.item,"role_name",t)},expression:"item.role_name"}})],1),n("el-row",[n("el-col",{attrs:{span:3}},[n("div",{staticClass:"grid-content bg-purple-dark"},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选 ")])],1)]),n("el-col",{attrs:{span:21}},e._l(e.menu,(function(t,c){return n("el-row",{key:c,staticStyle:{"border-style":"dashed","border-width":"1px 1px",margin:"5px"}},[n("el-checkbox-group",{model:{value:e.checkedRole,callback:function(t){e.checkedRole=t},expression:"checkedRole"}},[n("el-col",{attrs:{span:3}},[n("el-checkbox",{key:c,attrs:{label:c,checked:t.checked},on:{change:e.handleCheckedRoleChange}},[e._v(" "+e._s(t.name)+" ")])],1),n("el-col",{attrs:{span:21}},e._l(t.child,(function(t,l){return n("el-row",{key:l,staticStyle:{"border-style":"dashed","border-width":"1px 1px",margin:"5px"}},[n("el-col",{attrs:{span:3}},[n("el-checkbox",{key:c+"."+l,attrs:{checked:t.checked,label:c+"."+l},on:{change:e.handleCheckedRoleChange}},[e._v(e._s(t.name)+" ")])],1),n("el-col",{attrs:{span:21}},[n("el-row",e._l(t.child,(function(t,o){return n("el-col",{key:o,staticStyle:{"border-style":"dashed","border-width":"1px 1px",margin:"5px"},attrs:{span:3}},[n("el-checkbox",{key:c+"."+l+"."+o,attrs:{checked:t.checked,label:c+"."+l+"."+o}},[e._v(e._s(t.name)+" ")])],1)})),1)],1)],1)})),1)],1)],1)})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",round:""},on:{click:e.onSubmit}},[e._v("立即保存")])],1)],1)},l=[],o=(n("b64b"),n("cc5e")),r={data:function(){return{role_id:this.$route.params.role_id||1,item:{role_name:"",role_id:""},checkAll:!1,checkedRole:[],menu:[],isIndeterminate:!0}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;Object(o["d"])({role_id:this.role_id}).then((function(t){e.item=t.data.item,e.menu=t.data.menu})).catch((function(e){console.log(e)})).then((function(){console.log("do onSubmit")}))},handleCheckAllChange:function(e){if(e){for(var t=[],n=0,c=Object.keys(this.menu);n<c.length;n++){var l=c[n];t.push(l);for(var o=0,r=Object.keys(this.menu[l].child);o<r.length;o++){var a=r[o];t.push(l+"."+a);for(var i=0,s=Object.keys(this.menu[l].child[a].child);i<s.length;i++){var d=s[i];t.push(l+"."+a+"."+d)}}}this.checkedRole=t,this.isIndeterminate=!1}else this.checkedRole=[]},handleCheckedRoleChange:function(e){console.log(e)},onSubmit:function(){Object(o["c"])({role_id:this.role_id,act:this.checkedRole}).then((function(e){})).catch((function(e){})).then((function(){console.log("do onSubmit")}))}}},a=r,i=n("2877"),s=Object(i["a"])(a,c,l,!1,null,null,null);t["default"]=s.exports},b64b:function(e,t,n){var c=n("23e7"),l=n("7b0b"),o=n("df75"),r=n("d039"),a=r((function(){o(1)}));c({target:"Object",stat:!0,forced:a},{keys:function(e){return o(l(e))}})},cc5e:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i}));var c=n("f46b");function l(e){return Object(c["a"])({url:"/main/sys/add-role",method:"post",data:e})}function o(e){return Object(c["a"])({url:"/main/sys/edit-role",method:"post",data:e})}function r(e){return Object(c["a"])({url:"/main/sys/del-role",method:"post",data:e})}function a(e){return Object(c["a"])({url:"/main/sys/edit-role",method:"get",params:e})}function i(e){return Object(c["a"])({url:"/main/sys/role-list",method:"get",params:e})}}}]);
//# sourceMappingURL=chunk-3ecf760b.5ae4825e.js.map