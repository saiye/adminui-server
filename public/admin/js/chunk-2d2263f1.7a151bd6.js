(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2263f1"],{e89a:function(a,e,l){"use strict";l.r(e);var t=function(){var a=this,e=a.$createElement,l=a._self._c||e;return l("el-tabs",{on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"渠道列表",inline:!0,name:"list"}},[l("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:a.form_list}},[l("el-form-item",[l("el-input",{attrs:{placeholder:"请输入渠道名称"},model:{value:a.form_list.channel_name,callback:function(e){a.$set(a.form_list,"channel_name",e)},expression:"form_list.channel_name"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:a.loadChannelListData}},[a._v("查询")])],1)],1),l("el-row",[l("el-col",{attrs:{span:24}},[l("el-button",{staticStyle:{float:"right","margin-right":"20px","margin-bottom":"10px"},attrs:{size:"mini",round:""},on:{click:a.handleAddChannel}},[a._v("新增渠道 ")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:a.tableRoomData,border:"",stripe:"","highlight-current-row":"","header-cell-class-name":"table-header-class"}},[l("el-table-column",{attrs:{prop:"channel_id",label:"渠道id"}}),l("el-table-column",{attrs:{prop:"channel_name",label:"渠道名称"}}),l("el-table-column",{attrs:{prop:"gameSrvAddr",label:"游戏服地址"}}),l("el-table-column",{attrs:{prop:"loginCallBackAddr",label:"登录回调地址"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",round:""},on:{click:function(l){return a.handleEditChannel(e.row)}}},[a._v("编辑渠道")])]}}])})],1),l("el-row",[l("el-col",{attrs:{span:24}},[l("div",{staticClass:"pagination"},[a.paginate.total>0?l("el-pagination",{attrs:{background:"","page-sizes":a.paginate.pageSizes,"page-size":a.paginate.pageSize,layout:a.paginate.layout,total:a.paginate.total,"current-page":a.paginate.pageIndex},on:{"current-change":a.handleChangePage,"size-change":a.handleChangeSize}}):a._e()],1)])],1),l("el-dialog",{attrs:{title:a.title,"close-on-click-modal":a.closeModal,visible:a.dialogVisible,width:"300px;"},on:{"update:visible":function(e){a.dialogVisible=e}}},[l("el-form",{ref:"dialog_form",attrs:{model:a.dialog_form,rules:a.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"渠道名称",prop:"channel_name"}},[l("el-input",{attrs:{placeholder:"请输入渠道名字最长30位"},model:{value:a.dialog_form.channel_name,callback:function(e){a.$set(a.dialog_form,"channel_name",e)},expression:"dialog_form.channel_name"}})],1),l("el-form-item",{attrs:{label:"游戏服地址",prop:"gameSrvAddr"}},[l("el-input",{attrs:{placeholder:"请输入游戏服地址"},model:{value:a.dialog_form.gameSrvAddr,callback:function(e){a.$set(a.dialog_form,"gameSrvAddr",e)},expression:"dialog_form.gameSrvAddr"}})],1),l("el-form-item",{attrs:{label:"登录回调地址",prop:"loginCallBackAddr"}},[l("el-input",{attrs:{placeholder:"请输入登录回调地址"},model:{value:a.dialog_form.loginCallBackAddr,callback:function(e){a.$set(a.dialog_form,"loginCallBackAddr",e)},expression:"dialog_form.loginCallBackAddr"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:a.dialogCance}},[a._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.dialogConfirm("dialog_form")}}},[a._v("确 定")])],1)],1)],1)],1)},n=[],i=(l("b0c0"),l("f46b"));function o(a){return Object(i["a"])({url:"game/channel/channelList",method:"post",data:a})}function r(a){return Object(i["a"])({url:"game/channel/addChannel",method:"post",data:a})}function d(a){return Object(i["a"])({url:"game/channel/editChannel",method:"post",data:a})}var c={data:function(){var a=function(a,e,l){if(!e)return l(new Error("游戏服地址不能为空!"));e.length;if(e>100)return l(new Error("游戏服地址长度不能大于100字符"));l()},e=function(a,e,l){if(!e)return l(new Error("游戏服登录回调地址不能为空!"));var t=e.length;if(t>100)return l(new Error("游戏服登录回调地址长度不能大于100字符"));l()};return{activeName:"list",tableRoomData:[],closeModal:!1,paginate:{total:0,pageIndex:1,pageSize:15,pageSizes:[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper"},loading:!1,form_list:{channel_name:"",limit:10,page:1},dialogVisible:!1,dialog_form:{gameSrvAddr:"",loginCallBackAddr:"",channel_id:"",channel_name:""},rules:{channel_name:[{required:!0,message:"请输入渠道名称最长30位",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30个字符",trigger:"blur"}],gameSrvAddr:[{validator:a,trigger:"blur"}],loginCallBackAddr:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.loadChannelListData()},computed:{title:function(){return this.dialog_form.channel_id?"编辑渠道":"新增渠道"}},methods:{handleClick:function(a,e){console.log(a.name)},loadChannelListData:function(){var a=this;o(this.form_list).then((function(e){a.tableRoomData=e.data.data.data,a.loading=!1,a.paginate.total=e.data.data.total})).catch((function(a){console.log(a)})).then((function(){})),this.tableRoomData=[]},handleChangePage:function(a){this.paginate.pageIndex=a,this.form_list.page=a,this.loadChannelListData()},handleChangeSize:function(a){this.paginate.pageSize=a,this.form_list.limit=a,this.loadChannelListData()},dialogConfirm:function(a){var e=this;this.$refs[a].validate((function(a){if(!a)return!1;e.dialog_form.channel_id?d(e.dialog_form).then((function(a){e.dialogVisible=!1,e.loadChannelListData()})).catch((function(a){})).then((function(){})):r(e.dialog_form).then((function(a){e.dialogVisible=!1,e.loadChannelListData()})).catch((function(a){})).then((function(){}))}))},dialogCance:function(){this.dialogVisible=!1},handleEditChannel:function(a){this.dialogVisible=!0,this.dialog_form.gameSrvAddr=a.gameSrvAddr,this.dialog_form.loginCallBackAddr=a.loginCallBackAddr,this.dialog_form.channel_id=a.channel_id,this.dialog_form.channel_name=a.channel_name},handleAddChannel:function(){this.dialog_form.gameSrvAddr="",this.dialog_form.loginCallBackAddr="",this.dialog_form.channel_id="",this.dialog_form.channel_name="",this.dialogVisible=!0}}},s=c,g=l("2877"),m=Object(g["a"])(s,t,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d2263f1.7a151bd6.js.map