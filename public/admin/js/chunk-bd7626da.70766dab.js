(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd7626da"],{"40f0":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"所属角色"}},[r("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}},e._l(e.roleList,(function(e){return r("el-option",{key:e.role_id,attrs:{label:e.role_name,value:e.role_id}})})),1)],1),r("el-form-item",{attrs:{label:"登录账号"}},[r("el-input",{model:{value:e.form.user_name,callback:function(t){e.$set(e.form,"user_name",t)},expression:"form.user_name"}})],1),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"用户密码"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",round:""},on:{click:e.onSubmit}},[e._v("立即提交")]),r("el-button",{attrs:{round:""},on:{click:e.canceHandel}},[e._v("取消")])],1)],1)],1)},s=[],n=(r("b0c0"),r("cc5e")),i=r("ebe5"),a={data:function(){return{form:{role_id:"",user_id:"",user_name:"",email:"",password:""},roleList:[]}},mounted:function(){"sys-edit-user"==this.$route.name&&this.userInfo(),this.loadRoleList()},methods:{onSubmit:function(){var e=this,t={role_id:this.form.role_id,user_id:this.form.user_id,user_name:this.form.user_name,email:this.form.email,password:this.form.password};"sys-add-user"==this.$route.name?(Object(i["a"])(t).then((function(t){e.$router.push({name:"sys-user-list"})})).catch((function(e){})).then((function(e){})),console.log("add user!")):Object(i["b"])(t).then((function(t){e.$router.push({name:"sys-user-list"})})).catch((function(e){})).then((function(e){}))},loadRoleList:function(){var e=this,t={limit:50,page:1};Object(n["e"])(t).then((function(t){e.roleList=t.data.data.data,console.log(t.data.data.data)})).catch((function(e){console.log(e)})).then((function(){console.log("load role List")}))},userInfo:function(){this.$route.params.user_name?(this.form.user_name=this.$route.params.user_name,this.form.user_id=this.$route.params.id,this.form.role_id=this.$route.params.role_id,this.form.email=this.$route.params.email):(console.log("email--"+this.$store.getters.user_id),this.form.user_name=this.$store.getters.user_name,this.form.user_id=this.$store.getters.user_id,this.form.role_id=this.$store.getters.role_id,this.form.email=this.$store.getters.email)},canceHandel:function(){this.$router.go(-1)}}},l=a,u=r("2877"),m=Object(u["a"])(l,o,s,!1,null,null,null);t["default"]=m.exports},cc5e:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return l}));var o=r("f46b");function s(e){return Object(o["a"])({url:"/main/sys/add-role",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/main/sys/edit-role",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/main/sys/del-role",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/main/sys/edit-role",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/main/sys/role-list",method:"get",params:e})}}}]);
//# sourceMappingURL=chunk-bd7626da.70766dab.js.map